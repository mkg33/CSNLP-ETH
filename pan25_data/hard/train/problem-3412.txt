Maybe I'm being uncharitable, but I'm pretty sure that the Taliban insurgency wouldn't have succeeded with the support of only 3% of the male population and 2% of the female population.
They might be miserable now, but they had two decades when the Western powers were actively attempting nation building, and a huge percentage of them actively supported or provided cover to the Taliban insurgency.
Answer : The People "Rolled Over" Because the Afghan people have been in a constant state of Corrupt Governments, War, Extremist Militants, Poverty, Aerial Bombings and War for over 40 years now.
Also why do you empathize the point of trillions of $$$ and the lives of the soldiers who voluntarily signed up for duty, Yet you willingly omit the hundreds of thousands of Afghans who suffered or perished at the hands of a Russian & American Invasion?
What's not the case?
I've noticed the drastic tone shift, Redditors used to be vehemently against global interventionism on the part of the U.S and It's Allies and supported a neutral stance of staying out of countries overseas, And now it's totally shifted.