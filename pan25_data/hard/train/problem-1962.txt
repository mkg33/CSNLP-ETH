We have a brief window to get this passed and holding out for something more comprehensive is very likely to screw over any potential progress in the future.
Once we lose the House and once this ruling comes down, the window closes to pass even incremental legislation until and unless we get a majority back in Congress and we get a court to overturn precedent that will be set by Moore v Harper.
Edit: to further the conversation, in order to pass the kind of law you’re suggesting, we would need a 2/3 majority in Congress to pass a constitutional amendment protecting same sex marriage rights in every state.
We clearly don’t have that right now.
We passed what we can pass so that when Obergefell is overturned, we don’t lose recognition of valid marriages in red states.
If Obergefell is overturned, and this bill isn't law, their states would still refuse to allow them to marry and they'd still be fucked.
But they'd be fucked even more than they would with this law, because they wouldn't even have the option of getting married somewhere else and have it recognized in their home state.