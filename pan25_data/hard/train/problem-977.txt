For China, it's ideological to a very large extent.
Putin's "multipolar world" appeals to the Chinese mindset and their own view of themselves in the world - since the USSR fell, the world has been a unipolar one: The US leads, everyone else follows, because there is no real challenger to the US hegemony.
Russia is nowhere near the threat the USSR was (and now even less so), and while China has been building up economically and militarily, it's practically surrounded by US allies, something they definitely don't appreciate, especially now that they're by many accounts a near-peer to the US.
China isn't going to ally with Russia, I expect they're going to let them break themselves on Ukraine and when it's over try to make them a Satellite State by propping up their ruined economy.
I don't think China will threaten its geopolitical strategic position to aid Russia in their Ukrainian ambitions, but they will absolutely try their best to keep Russia and Putin's multipolar world vision alive and well.
For them, there's also a bit of a Taiwan ideology going on that gives them a good reason to give with one hand and take with the other: Taiwan is China, and territorial integrity is paramount for China, so they're using that to support Ukraine's sovereignty.
Remember: Russia's logic to getting Crimea and the Donbas is due to separatist movements in these regions - which one could argue (if they're fairly blind and devoid of nuance) parallels Taiwan.
China does not want any credibility to be given to Taiwan's separatism.
But that's not OPs point, they're just pointing out that the separatist narrative is problematic to China because of the (bad) parallels to Taiwan.
What they can't suppress domestically they can try and redirect into nationalist goals (think of the angry young men "defending" their homeland) which puts a target on Taiwan's back.