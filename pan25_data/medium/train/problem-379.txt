That is oversimplified.
I’m not a moralizer, and I think it’s often exceedingly difficult to determine the best of multiple options, but, e.g., we might think that on a utilitarian calculation, it’s _ceteris paribus_ wrong to give a homeless person money just in case the choice is between doing that and donating that money to a social welfare program that would help more people.
Or whatever.
Whether they’d use it for food or drugs or a prostitute is sort of a tangential issue—I don’t necessarily think any of that is _per se_ wrong.
The specifics don’t actually matter much.
The analogy is this: knowingly sending money through a charity program that will aid Hamas is not really compatible holding that Hamas ought not to be supported.
Or rather, it’s something many people do in various ways all the time in this and other contexts, but it’s fundamentally inconsistent.
It is worth considering whether on any particular issue we want to be consistent.
Remember when Iran's parliament put forth a letter calling for harsher punishment for protestors and we were assured this DID NOT mean the execution of 15,000 protesters?