1) If China support Russia--well, possible sanctions, possible nothing.
West opinion of China will not improve.
2) If China support Ukraine-- No additional benefits, hostile Russia on their northern border, western opinion will not improve--and certainly wouldn't help get Taiwan back.
if Russia collapses/fall into a western controlled puppet (Yeltsin II), it wouldn't help China either.
So basically geopolitics dictate China to sit on the fence.
No matter who wins in this war, it is unlikely they can cut China out from the future.
China also undermines their own geopolitical position if they support Russia too strongly.
It tarnishes their legitimacy if they don't support territorial integrity and opens the door for more nations to support Taiwanese independence.
Taiwan is always considered part of China from China point of view.
In their eyes, you can support other countries territorial integrity and demand eventual reunification of Taiwan.
Most of Taiwan's western allies will not change their mind of China-Taiwan issue, nor will China.
Whatever happen in Ukraine is irrevlant.
But lets face it, it is not like China (and everybody else) took on Americans when they stormed Iraq or when Russians charged Georgia.
Talk is cheap.