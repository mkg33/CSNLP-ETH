Even in the same series it can go both ways, neither one was right or wrong.
If you just have them stop and try over, that will have a certain flavor.
Usually, the player cannot leave a boss chamber until it is defeated.
Perhaps in many Olympic sports, the point is to have the best performance among experts, so if you stumble at some point, you might as well stop trying for that round, and that's expected.
Games of this type might include "pen and paper" puzzles such as crosswords, sudoku, or mazes, as well as certain other fully reversible puzzles such as Rubik's Cube or sliding-block puzzles.
For example, if the main mission were to accomplish something without something happen, and that main goal becomes impossible or failed, you could let them know that (or not) but have the situation change or a new goal become apparent.
In games with more going on outside the current mission context, or where you want to have it be fun even when things go wrong, you might want to detect failure states but instead of announcing it like a failure and suggesting trying over, you could have the gameplay respond or give clues that the player should now be focusing on some secondary or alternative goal.
If the game is a puzzle, and its rules permit reverting a move without any loss (beyond time), the player should generally expect to detect dead ends and recover from them on their own.
For example, if your players are perfectionists and want to practice something over and over till they get it right.
(Older text-based adventures often failed to follow this rule; this was a major factor in why they were considered so frustrating!)
The 2D era games (NES/SNES/Gameboy) offered minimal refills, if any, inside the boss chamber - once you ran out you either needed to die or reset.
In games where there is rich gameplay aside from the main goal, you may not want to announce a hopeless condition, because trying to continue play can be interesting in other ways.
Finally, if the game is not intended as a puzzle at all — for instance, if it is actually a first-person shooter — the situation changes entirely.
In that case, it may make sense to indicate when winning or proceeding becomes impossible.
I'd like to add warning against forcing the restart before some player known resource (turns/time...) is used up.
Another option is to automatically take action to restore the game to a winnable state.
In a puzzle game however like your example then just letting the time run out is a better idea.
The details depend on the game, of course, the expected players' interests, and what you want to accomplish.
It depends a great deal on what kind of game you're talking about.
Many of the enemies in the Legend of Zelda require specific consumable items to defeat (for example arrows, bombs, or magic), and this goes for dungeon bosses as well.
Or, if it's a puzzle genre where again the expectation is you'll probably make mistakes as part of learning and need to start over, but part of the game is figuring out what to learn from mistakes, then you may not want to let them know, so they can figure it out.
Rather than the mental challenge you are going for.
On the other hand, if moves in a puzzle are not revertible, notifying players that they have entered an unwinnable situation may be appropriate.
Others have given good ideas how to add the possible warning button without braking immersion.
Games of this type will usually end immediately if the player has entered a completely unwinnable situation.
Games of that type might include block-pushing puzzles such as Sokoban, as well as many text-based adventure games.
Giving them notice that they've entered an unwinnable situation is probably unnecessary unless it's limited to detecting situations which are immediately unwinnable.
Ocarina of Time on the N64 and the games that followed it started adding regenerating grass to many of the boss chambers that would contain items needed to defeat the boss.
Sounds like you have discovered a game- or level- design issue which you might want to address in other ways, such as reconsidering how the game rewards success, or shifting to an alternate game mode where there is a secondary goal when the main goal will no longer be possible.
For example: if I have 2 moves left and at minimum I would need 5 moves to pass the level, I might realize the futility.
Or you might want to let them know, but in a relevant and interesting way that provides a clue to the mystery they are supposed to figure out.
The above can even apply to a game with one-minute levels, and is a design decision.
For example, if you were trying to rescue someone from someplace but that becomes impossible, your next goal might be to not get caught yourself, and might be signaled by a companion or observer character pointing out the situation, or an alarm going off, or several guards showing up.
In a obstacle course/parkour type game against a time limit it's common to add checkpoints that add to a time limit which is tight enough to that a big mistake will cause failure.
This is particularly important if the unrecoverability of the situation would not become apparent until much later.
For example, if you can't win the current level, you might still be able to escape with your life, and/or gain some secondary points or power ups or cause some effects that would carry over to the next try.
If there is only 1 solution and you warn the player as soon as he makes a mistake then it becomes a not-fun game of trial and error.
However, I still would like to use my final moves to determine what some possible actions will do ("will this weapon break that stuff", "can I reach something").
For instance, if a player has run out of a consumable item that is mandatory to proceed, the game could make more of that item available to the player.
For instance, in sections of Half-Life 2 which the player must use a vehicle to complete, the game ends immediately if the vehicle falls into an unrecoverable position.
Depending on the style of the puzzle, it is possible that even if player knows s/he can't pass the level, there is some action which they want to try before restarting.
It's probably also a good idea to let them undo actions that were wrong and let the player find out that they were wrong for themselves.
If you have there be a secondary play mode, that could have another flavor.
But having some early mistake mean there's no point in continuing can be an annoyance for some players, depending on their expectations and how it's presented.