The switch first figures out that electrical connectivity has been established---at this point it knows something is plugged into the port.
Then (unless configured not to) the switch attempts to run autoneg to figure how how fast the link should run.
The source mac address of any traffic coming into the switch from the device will also get recorded in the switch's mac address table (which, is the list of what MAC addresses are out what ports).
When the router (IP layer) receives a packet for the IP the host owns,, the router will send out an ARP query on any interfaces on the relevant subnet to find the right MAC address for that IP. The ARP query hits the switch, which then floods out on all ports (on the relevant VLAN). Replies (which are transmitted by the device and thus recorded in the switch's MAC table), are transmitted back to the router, which records in it's MAC address table that the MAC for the given IP is out the port connected to the switch.
http://en.wikipedia.org/wiki/Address_Resolution_Protocol
http://en.wikipedia.org/wiki/Neighbor_Discovery_Protocol