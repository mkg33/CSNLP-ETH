The ICMP messages used to notify requestor that service/port not available. By disabling outgoing ICMP messages, you made your host invisible.
http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol
I'm trying to discover a machine by establishing an socket connection on one of the ports such as 80 . I was trying to connect to one of the machine i used to get connection refusedearlier on that machine as the webservice is not running on the machine . I disabled icmp on the machine so that the device cant be discovered through the ping by creating an inbound rule on windows firewall.The device is not responding to pings and it is working as expected. The surprising thing is that when i try to establish an socket connection on the same host  i get an connection timedout instead of connection refuse .What could be the reason for the same ? I disabled the icmp rule on the machine and i still get connection timedout instead of connection refuse.
Does the block connection option disable the other connections on the machine other than ping  ? 
Is this is the correct way of disabling the icmp on the machine ? If not let me know the right way of doing the same ?