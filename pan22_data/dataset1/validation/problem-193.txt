By default the resource agent IPaddr2 only check if the ip address is configured, you can check this reading https://github.com/ClusterLabs/resource-agents/blob/master/heartbeat/IPaddr2
If you want to monitor the connectivity using icmp protocol, you can read this link http://clusterlabs.org/doc/en-US/Pacemaker/1.1/html/Pacemaker_Explained/_moving_resources_due_to_connectivity_changes.html 
I am running Corosync and Pacemaker via a cman stack, in an active-active setup delivering web pages, and I've hit a brick wall. I'm using the IPaddr2 resource agent to have an IP that is used simoultaneously by both nodes, and after about 15  minutes, it stops working. It is still running according to PCS, the ClusterIP rule is still in iptables, but the IP becomes unreachable. If I restart iptables, the cluster ip works for another fifteen minutes, then stops again. Here is my CIB config:
I've been searching all over and I can't seem to figure it out. Any idea what is causing my issue or how to fix it?