So I'm trying to play a sound only once from a raspberry pi using pythons pygame library. The raspi is hooked up via hdmi and sound is configured correctly. My original sound file was created and exported from Adobe Audition. I tried to export from audacity with the same results. I've even tried different formats. I also downloaded someone else's example with audio files and I get the same results. I've tried pre_init() with various settings, nothing here effected the non-working examples below.
The indirect approach is generally useful if you don't need total control over the playback but just a simple interface. Sometimes I use it to play a song for a certain duration and stop by having a timer callback terminate the process
note the trailing & will launch the process in the background and let the boot process complete when exit 0 executes
One another indirect way is use python to launch ogg123 or mpg123 using the subprocess module Popen like so
Assuming your objective is simply to play a single file once there are much simpler ways than writing a python script
Ok, I'm not sure if this is the proper way to fix this, but I found that the script ended before the audio has a chance to play. So to fix that I added:
If your objective is to play the sound as part of special effects (say as a part of a game) your python based approach is more appropriate.