I have two hard drives, one with just one primary partition (sdb) and one with several partitions (sda). My fdisk -l looks like this:
I have Ubuntu 11.10 installed on sda5 and windows 7 installed on sdb1 (I'm not sure what's on the primary partition /dev/sda1 -- some old operating system I don't care about). I installed Windows first, then installed Ubuntu. I'm using grub as my boot loader, and I'm able to boot to Ubuntu (and using it now) but at first update-grub2 didn't even see Windows 7. After searching online, I found a common solution to this was to create an /etc/grub.d/11_Windows init script containing:
I know a lot of people are having problems similar to this one, but I don't think this is a duplicate. My situation is a bit different and none of the solutions that are working for other people have worked for me.
Here I set root to (hd1,1) to match sdb1. This added Windows 7 to the grub menu, but if you select it, it just shows a blank screen and hangs (it does not boot into Windows 7). I've tried a number of solutions given to people having similar (but not identical) problems as mine and can't get anything to work.