This exact setup now needs mirroring to a dozen or so other identical embedded devices. They are all the same processor, memory, disk size etc (hence ”identical”). What would be the best way to do this?
If I mirrored the disk to a USB stick, how would I get that onto the clean box? I guess it would depend on whether the BIOS could help?
This copies practically everything across to a mounted directory (the root of your new disk) but you may need to copy the files in /dev/ separately.
A few years ago when using an embedded NSLU2 system (ARM, 32MB internal memory, internal 8MB flash-on-chip disks) I was able to just dd from the internal mmcblk0 to a file for backup purposes.
I used the copy method to resize my root filesystem a few times with great success but these were ordinary disks and I was able to have both filesystems (source and target) available from the one running (source) instance.
The disks in the devices are not really physically accessible, otherwise my first though would have been to put a second disk in the finished box and dd to mirror it.
I've just finished setting up a Debian system running on an embedded device. It has custom partitioning, numerous config file changes, web content, and a couple of applications compiled from source.