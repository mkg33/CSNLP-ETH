To me it seems that the switch is making some problems on the way, but is not the main source of problems.
If you can, try connecting the server and desktop directly with a different category 6 cable and running tests. 
Are the WD Green drives EARS model? WHS doesn't play well with these - they have a new advanced format. there is extensive discussion on WHS boards.
Make sure that on both desktop and server same settings are selected for network connection. This should have been set up automagically, but it doesn't hurt to check for yourself. 
I find it very odd that the speeds change so much when you change the server with iperf. I would expect the same performance in both directions. This looks like something hard to find. Try these options:
Connecting the machines directly with a patch cable, I see much higher speeds when connecting from desktop to WHS (~300 Mbits/sec), but still around 10Kbits/sec when connecting from WHS to the desktop. File transfer speeds are also much quicker (both directions).
Both machines report being connected at 1Gbps. The switch lights up with green lights for those two ports, indicating 1Gbps.
When connecting the machines through the switch, I am seeing insanely low speeds from WHS to the desktop measured with iperf: 10Kbits/sec (WHS is running iperf -c, desktop is iperf -s). Using iperf the other way (WHS is iperf -s, desktop iperf -c) speeds are also bad (~20Mbits/sec).
I am having trouble getting my Gigabit network to work properly between my desktop computer and my Windows Home Server. When copying files to my server (connected through my switch), I am seeing file transfer speeds of below 10MB/s, sometimes even below 1MB/s.