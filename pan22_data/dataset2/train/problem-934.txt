I have a new windows server 2019 machine and now is confused with the ALT+F4 behavior. On my windows 10 and windows server 2016 machines, when I press ALT+F4 with the system focus on desktop, a prompt dialog will popup to let me choose what to do: logoff, shutdown, or restart, etc. But on windows server 2019, the dialog will not popup in some cases and the session is logged off immediately, and all applications are shutdown. This is not what I want and is very inconvenient. For example, when I press ALT+F4 to shutdown one application, occasionally the application lost focus, then the whole system is logged off, all other applications are shutdown. Definitely this is NOT what I meant to do. I tried some different users, here is the result:
Seems that the dialog pops up only when login as local admin or domain admin. How to make it always pops up on ALT+F4 for all users?
It definitely has something to do with UAC. With GP -> Computer -> Windows Settings -> Security Settings -> Local Policies -> Security Options -> User Account Control: Run all administrators in Admin Approval Mode = DISABLED (which turns off UAC completely) then the shutdown dialog works just fine. Still investigating further since I don't really want to do this but it may help others or at least help others to find a proper fix.