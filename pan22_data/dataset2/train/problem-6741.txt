ICD 10 is a vast generalization of ICD 9, in that each procedure and diagnostic type now has many more codes. In addition, there are new diagnostics and procedures in ICD 10 that are not in ICD 9. ICD 9 is forwards compatible with ICD 10, if you settle on the approximate ICD10 code that's most similar for example here. If you try  ICD 9: 81.54 (total knee replacement), then you'll see a list of approximations here. As you can see, the specificity of ICD 10 is something you'll have to compromise on.
Is there any compatibility between the different versions? (e.g. can ICD-9 code be directly used where ICD-10 codes are expected?)
ICD 10 will not in general be backwards compatible, except in cases similar to the above knee replacement, where you'd settle on something. One compromise here would be to use Clinical Classification Software (CCS) grouping which collapses ICD 9 and 10 codes into multilevel groups (for example, "Knee Arthroscopy") , so you can compare procedures and diagnostics by groups
The ICD code scheme has gone through many revisions: https://en.wikipedia.org/wiki/International_Statistical_Classification_of_Diseases_and_Related_Health_Problems