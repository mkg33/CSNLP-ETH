There's also many "live" distributions of Linux that can run from a USB stick and that are easier than the above method, but may not let you advanced things like full disk encryption.  You'll generally have to prepare the drive on another working computer first.  
If you want to run XP from a flash drive, it's problematic and involved, but possible.  Basically, you need to install BartPE - a modified version of XP (modified from your current installation) that supports being run off of removeable media.  These are pretty decent instructions and you'll also want to check out the official BartPE website.  You do need to perform this from an existing Windows XP system for this to work.
My old laptop's hard disk is broken so that I can't install OS on it. They told me there is a way to make your PC recognize USB flash memory as HDD? Is it possible? how to do that?
The first thing to do is ensure your system can boot off of a USB drive.  Most laptops made since 2000 or so can do this without an issue.
Debian installs fine on a USB drive using the normal install process.  Remove the hard drive in your system or disable from BIOS, boot the Debian installer CD, and the only drive selectable should be the USB drive, which you can partition like an internal HD.  I haven't tried this using the Ubuntu graphical installer but if you use the "alternative" iso which uses the Debian text-mode installer it should be the same process.  Of course you may run into a problem with your USB drive suddenly acting as though it is disconnected - this has happened to me on several Dell laptops.  Not sure if it is a driver or hardware issue, but good luck.
Not sure of a process to get full-blown Windows 7 running from a USB drive.  This is among several of the guides that shows you how to make a Windows 7 PE USB disk, but it's really only suitable for recovery purposes and not general purpose use.