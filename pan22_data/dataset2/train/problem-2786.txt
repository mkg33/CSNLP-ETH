My samba server is a CentOS 5.3 box, and is running a large share for simply dumping files. The main partition works fine- ext3, internal disk. That's not the problem. The problem was introduced when I thought to help a colleague who had an external disk he simply used as a dump as well. I offered to add a share on the server and mount his disk, so he wouldn't need to move it around the office, which is all he would do with it. Here's where I start asking for trouble. It's an NTFS partitioned disk, mounted over USB. When it works, it's great, but every so often (in regrettably undocumented conditions, but NOT upon reboot- that works fine) it corrupts the mount folder. So that leads to something like this:
Weird, yeah? Connecting it to his machine again, all of the data is fine. It's only the mount folder getting clobbered. This has happened multiple times, and remounting to a different folder makes it work again for a time. Anyone know what's causing this? I know I'm asking for trouble, but this is a low-risk scenario, and it's an interesting scenario. It'd be cool to figure out how to make this setup sustainable.
Hey guys- got a little samba server running for a small personal file share, and was having some trouble with a very specific scenario. So let's take it from the top: