Can someone suggest preferably Windows functionality to do this, or open source software that can help me with that? I'd rather not set up a complicated custom solution using scripts etc.
I am looking for a way to automatically backup and archive certain files on my hard drive to a NAS in Windows 10 pro 64bit. By that I mean that I can add files to the directory on my disk and it will be automatically stored on the NAS when it is available (it's an Ubuntu PC connected as a network drive using samba that isn't always available when the PC is on). I don't simply want to sync the directory, I want the NAS to serve as an archive, so that when I delete files on the source they remain indefinitly on the NAS.
File History is not the easiest nor most reliable backup solution.  There are paid products that do it better.  Even the free Google File Backup and Sync is better, but uses your network bandwidth, has a limited amount of space if you're using the free version, and it means giving all of your photos to a third party.
I use Free File Sync for this. It has 2 tools. One is a gui to make backups once in a while, or one time only, and a 2nd tool without gui that can load in batch jobs created by the other tool. It will do this sync real-time, so the backup is always up-to-date, and it can move files that are deleted to a deleted folder, so it is a perfect solution against FileCryptoLocker viruses too, or you can choose to only sync in one direction, not deleting files that are no longer present in the source.
I'm not sure if your archiving request is 100% obtainable with this, im not sure how file history behaves when space is full, it might just delete the oldest backup session which would not meet your needs.
I also have directories which I want to simply keep in sync, for that I was thinking I could just use Sync Center.
File history may be usable along side something else if any one has ideas on a good archiving solution, we just have to be wary this doesn't become a software recommendation post!
First, learn the UNC path of your share, like \UbuntuNAS\PictureBackups .  It's a good practice to map the drive in My Computer and set 'Reconnect on logon', because then you will have a visual representation of if Windows can see the share on the network.   Windows will sometimes show 'Disconnected' just because it hasn't connected to a network drive for some time.  If you log on, log off of Windows daily, Windows will attempt to connect on log on each time.
I have a folder of photos locally. I'll never delete anything on it, but in case I do or my disk breaks, I want to have a full backup of everything that has ever touched that folder.
Using the built in tools, you can use windows file history to keep a backup running. You can tell it to monitor certain folders and back up every 10 minutes or however longer you want. You can then view previous version of the file and restore as needed.
On the other hand I may have a Downloads directory which I want backed up, but if I delete a file it should also be deleted on the network storage when the next sync occurs.