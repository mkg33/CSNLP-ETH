This will reset most of your saved preferences. After you're able to login again, you can try to restore them one by one and see what was causing the problem.
I was trying to install Go language support and I have done mistake in setting path so I just removed last changed what I have done using (control+shift+f2) 
For me it was because of the vnc server (tightvncserver) that was running (for some reason). I'm running Kali on a VMware ESXi host using the Embedded Host Client and was getting this problem after I enabled the vnc server by creating a script in /etc/init.d/ and using the systemctl enable command. I was able to open another virtual terminal using the instructions here. Then I used systemctl stop vncserver, then disabled it, rebooted and everything worked.
If all those precious answers fail, drop in a tty using Ctrl+Alt+F3 or any other Function key and login.
If after this you're still unable to login, run it again but remove the -type f option. If you get Operation not permitted or Permission denied, use sudo.
I saw this post on a quest for a solution to the same problem. I couldn't find an answer. What i then tried doing was this and it worked.