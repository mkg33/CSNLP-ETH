I used Karabiner-Elements to remap caps_lock to f19. To this end I placed the following file karabiner.json to ~/.karabiner.d/configuration:
I found System Preferences → Keyboard → Modifier Keys menu, but I can map other modifier key to it, not a keyboard shortcut.
Then I opened Keyboard preferences → Shortcuts → Input sources and selected F19 as "Select the previous input source" option.
The Idea is to overwrite Caps Lock with another useless key, lets say F13, and then use that key to change keyboard layout.
If your keyboard language layout pair is English-Russian you can try to use Punto Switcher from Yandex for Windows and Mac. It not about Caps, but about what you typing - for example it will automatically replace ghbdtn to привет.
Note also that according to Lifehacker, there is built-in feature in macOS Sierra to switch layouts with Caps Lock but it seem to work only with some layouts. (At least I don't see this feature for my layouts which are Ilya Birman's typographic Latin/Cyrillic.)