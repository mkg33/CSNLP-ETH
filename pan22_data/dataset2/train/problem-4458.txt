Replace <number> with the highest number (obviously). The variants with ffmpeg didn’t work properly. The output video file would stutter weirdly.
All the popular answers to this question that mislead readers to concatenate the TS files before running ffmpeg are incorrect.  To ensure the audio and video do not fall out of sync during the assembly of the mp4 stream, the poorly documented but important "-f concat" feature of ffmpeg should be used.
Using the Juan Aquino's answer (and correcting the first command to be compatible with Bash and using the natural ordering of files), plus the 7vujy0f0hy's answer, a simple working script for a Linux Bash shell is:
How do I use ffmpeg to combine the ts files described by index.m3u8 into a single mp4 container using the copy codec?
where the generate the filelist.txt from the index.m3u8 file, it complains about not being able to read various files. But converting the ts files themselves seem to work fine. I think I'm not using ffmpeg properly.
I use the for loop to ensure the correct order of the files. Maybe you don’t need it. Maybe it’s even possible to pipe the output to ffmpeg and convert it to mp4 on the fly.
The two preparatory lines of code just create a file containing a list of TS files in this line format: