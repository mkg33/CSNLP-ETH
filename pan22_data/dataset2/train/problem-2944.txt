I need to configure a machine so that users can only use it to browse the internet, and that Internet access is permitted to just a small set of whitelisted URLs. I don't need fanatic protections but the user should not have any straightforward way to disable the blocking.
On the Windows machine(s), you can use Group Policy to disable normal users' ability to change the proxy settings.
A flexible way of doing this would be to set up a proxy on some other machine (squid is a good choice).  You can write access control rules in squid based on regular expressions defining the URL patterns you want to block or permit.  This also means that you can use more than one restricted PC with the same configuration.
What you want to get is a so called "Kiosk system".  Searching this with Google e.g. reveals http://www.webconverger.com/
How can I go about creating such a setup? Any solution, on any platform and any browser could be acceptable.
Note that the whitelisting is NOT of domains, but of specific URL patterns. E.g. some forum may be allowed but the URLs that are involved in posting a new message, could be blocked.