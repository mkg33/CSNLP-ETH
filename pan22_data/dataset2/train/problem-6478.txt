Mail Switch is an application that claims to be able to do this for you, selecting the mailserver based on the network you are connected to.
If you're using Outlook, just set up two separate POP3 accounts in one profile. Each one should have the different SMTP host. Make one of them with an invalid incoming mail server (such as test), remove that account from the Send/Receive group (Tools > Options > Mail Setup > Send/Receive), and then when you're sending mail, an "Accounts" button appears on the toolbar to switch between which account is sending the mail.
Probably want to use a comprehensive network profile switcher tool like MobileNetSwitch (see page 24); it allows dynamically adjusting SMTP, Outlook, hosts settings when you select a network profile. On top of all the other crucial setting switches which I swear by when using a laptop across various sites.
In the past, I have used the cygwin version of the Exim mail server, configured as a Windows service on my laptop. Then I just set my mail client to use 127.0.0.1 as the outgoing SMTP server, and the laptop delivers its own mail!