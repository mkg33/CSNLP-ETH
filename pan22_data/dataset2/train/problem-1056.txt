You may need to set the user that passenger runs the Rails application with "PassengerDefaultUser". Since you mention www-data, I'm assuming an ubuntu or debian server, so this would probably be a separate vhost file in /etc/apache2/sites-available. Add the line:
Sorry for asking the obvious, but... are you running rails in Apache? Because if you are running rails in Mongrel or similar you need to make Mongrel run as www-data.
I have a rails app on an Ubuntu server.  In my Apache config I have set the user and group to www-data.  I want my rails app to write to a file.  I have set the file permissions as follows:
Seems like rails should be able to write because the permissions are correct.  But I keep getting permission denied.  What are possible causes of this?
To the correct vhost file. If you don't know which file, run "sudo apache2 -S" to show the available vhosts in the configuration and pick the file that matches the hostname you access the Rails app.
Also, depending on the apache config, you might not have access to files outside the document tree, so if you app lives in /var/www/htdocs, you won't have access to files outside  this directory. 