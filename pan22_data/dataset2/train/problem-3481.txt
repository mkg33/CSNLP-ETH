Your library issue is another question entirely, kind of complex, and isn't stopping you from addressing this specific issue, so I'm not going to cover it in detail.  I'd suggest starting with 'man ldconfig' to learn how the LD_LIBRARY_PATH is set, and going from there to figure out why '/home/cc/Downloads/software/envs/py2/lib/' shows up in it.
Since you speak of wanting to script this process, the fact that you are using passwords is going to slow you down.  You may want to consider switching to using private keys for authentication instead of passwords.
First suggestion would be to upgrade to OpenSSH 7.3 or greater.  Version 7.6 is out now, and 7.3 was released in 2016, so it is quite possible that it is available pre-packaged in some form appropriate for your distribution.  If not, you can probably find it and compile it.  This will resolve the configuration error you are receiving.
recently encountered a situation that I dont know how to deal with, say, I usually have to connect to jumphost first by ssh user@xxx.xxx.xxx.xxxx then password, then ssh machine1(or machine2 machine3 machine4,...), then same password to log in, now I want to write a script that can automatically log in to all machines(machine1, machine2, machine3, machine4,...) to run some command to collect info back(concretly nvidia-smi to see the GPU usage of the machine), so that I can know all GPU usage on all machines with sigle script, but dont know how to, I tried the ProxyJump configuration like :
If that isn't possible (you need to stay with 6.6.1), you can try implementing the more awkward approach listed in the site I linked to in my comment: OpenSSH wiki re: chaining gateways
That should permit you to script the connections, but as mentioned in the beginning, the password prompts are going to be on the order of 2x the number of machines you're going to check.  That could get old pretty quickly, so I advise looking into public key auth.