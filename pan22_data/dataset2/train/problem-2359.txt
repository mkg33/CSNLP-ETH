I'm working on my combo system and I keep getting this weird problem. It's a pretty basic setup: when the player hits the attack button it changes the character's current action to "attack", if the player hits an enemy then an int (f) is set to the next combo number, after the attack finishes the character's current action turns to "standing" and an if statement makes the combo int equal to f.
My setup works, however, if I press the attack button too quickly it either doesn't add to the combo int (keeping it at the same number as before) or adds to it twice (depending on whether or not I slow it's update rate.) I'm sure there's probably an easy way to fix this and I'm not seeing it or maybe there's a better way to do this that I haven't considered yet, so I'm hoping you guys can help out. Any suggestions?
I don't really understand how your states work, but your code seems like a really complicated way to do this. Why not do something like:
But this might not solve your problem at all, since the way f is increased entirely depends on when and where you call that code.
I strongly suggest you to use a state machine to model your combo system. If your state machine library does not have it, you can add a timestamp to process your transition or timeout to force a status change. Using a state machine you can model every complex combo without big troubles.