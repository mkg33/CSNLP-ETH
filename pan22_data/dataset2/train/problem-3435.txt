Most of the time - unless you run enterprise grad users sending 150mb attachments in their emails - the question, though, is "why bother". Just put an email server somewhere. So, really, unless you have a very special case - you totally try to optimize the lease resource intensive protocol on your network.
This way both SMTP servers will accept mail for all users and forward the mail to the POP/IMAP-Server where the user's mailbox resides.
See, SMTP is not designed to work like this - so you can not do it on an SMTP level. What you can do is use an enterprise level email system (because it is those that basically need it) that, while having front ends "somewhere" can handle distributing the mailboxes to separate servers (which can then be at different locations). And they can do so nicely, without all the config pain of a do it yourself solution, including moving mailboxes transparently.
I am seeking an explanation. I want to setup a mail server with domain aaa.com in town A and another mail server with same domain aaa.com in town B. Each mail server in each town has their users (unique user which mean it won't exists in both server, just one of them). So what should i do to achieve this setup in order to let all the users in both server to be able to send and receive email without any problem. So i mean lets say i have user joe in town A and john in town B, and send an email from yahoo or gmail to both of them, and my mail will reach to them no matter which town they are in.
You make each server, at each location, have their own sub domain (twa.aaa.com for the server in Town A, twb.aaa.com for the one in Town B, etc.) and then have a master list of canonical names, that is in sync in all locations, that route between servers.
Please note that all these setups can become complex to administer, and sometimes not bandwidth efficient (email for Town B is received in twa.aaa.com server because that is first MX record the sender received, and has to be relayed to twb.aaa.com for deliver) but that can certainly work.
On each system you configure the mailserver to accept mail for the domain and configure each user that relies on the other server as a forward (in postfix you can achieve this with virtual_alias_table).
Set up two SMTP servers (e.g. postfix, exim, whatever) with full knowledge of all users and set up two POP/IMAP servers that recieve mail via LMTP over TCP.
An unrelated nostalgic note: Done something like that using the venerable (and awfully complex to maintain) sendmail rulesets back in the 90's, using UUCP to connect some remotes offices by phone. 12k users.
Joe and John can provide others with their canonical address joe@aaa.com and john@aaa.com. Internally, the mailbox for Joe is joe@twa.aaa.com and the same for John, john@twb.aaa.com. Output filters can rewrite their address, so any outgoing email they send will appear to the receiver as coming from canonical @aaa.com addresses.
Of course, existing email products handle this multi-server, multi-mailbox with nice UI interfaces and simplified administration.