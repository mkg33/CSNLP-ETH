Set up a Cmake build environment, cmake looks for installed compilers and builds make files for each platform... i.e.
From there you pick a well supported core library, I recommend STL or Boost which both have active port and optimization projects for them online.
you have visual C++ 10 installed, cmake finds it via path variables, and uses it to build the visual studio 10 solution files from all of your source.
you rinse and repeat on each platform, windows is your win/android dev environment, a cheap mac mini to do your iphone/mac compiles, and a linux box if you so desire.  
Additional libraries that are nice to have include a 2d rendering engine Skia or Cairo should do it, skia is more performant but has less documentation, don't let the Cairo openGL Backend fool you either, I hear there are issues with it.
http://blogs.adobe.com/flashplatform/2011/06/build-mobile-apps-for-android-devices-blackberry-playbook-iphone-and-ipad-today.html
You can get the android extension for Flash CS5 here http://hobbymerge.wordpress.com/2011/08/19/air-for-android-extension-for-flash-cs5-to-develop-apps-for-android-devices/
AIR 3.0, currently in beta, will also bring captive runtime (already available for iOS), where you can bundle the runtime with your app. The Flash Player 11 and AIR 3 betas are on Adobe Labs labs.adobe.com. If it doesn't work out for you, let us know why!
once you get your first file including skia/cairo with boost/stl and get a successful cross platform compile you will love yourself!!!!
Learning CMake for native cross platform is going to be hard work and you'll want to learn shell programming and windows batch or even better vbscript to automate some file creations and stuff when you want to add a new library to your application level code.
I would try http://gamesalad.com/. While Android publishing is not yet supported (planned for fall according to http://gamesalad.com/corporate/roadmap/) it can publish in HTML5, which should work well in many places, possibly android browsers too. YMMV.
You will need a sound library or something of the like, as well as a nice openGL library, since most of what I have done is mostly 2d graphics in the cross platform realm I can't help you on libraries for that.
You can download AIR for android and iOS extension for Flash cs5 which enables you to port your flash apps to Android and iOS. I've tried porting into my android device and it works. For porting to iOS, you nedd a digital certificate from Apple, which will be provided to you only if you're registered as an Apple Developer. The two extensions are inbuilt in Flash CS 5.5.
You have a src folder with a cmake file, it tells cmake what's in it and how it links to other projects.