I do not believe that is the right link. You ought to be able to build a custom kernel with the relevant packages, which I think could be: linux-kbuild and linux-source and dependences although the exact process on an RPi is not one I have engaged with...
secondly I'm not 100% sure about the specifics regarding matching exact compiler options, but where i was writing this kernel extension I had no issues using the version of gcc that came with the distro.
As I understand, the module should be compiled with the same gcc version, that was used for kernel build.
first I'll address the headers, most distros provide a convenience package for you to download the headers for your current kernel, on raspbian this is in the package raspberrypi-kernel-headers so a simple apt-get install ... will get the correct headers.
How to find which compiler version was used to build kernel and how to change gcc version for this correctly?
I would like to compile kernel module without recompiling the kernel (USB Wi-Fi stick driver for MT7106U chip). I have the source code and instructions.
So all you should need to is install the headers from the package, symlink them to where the driver is expecting/able to find them and then run the commands to build/install it.