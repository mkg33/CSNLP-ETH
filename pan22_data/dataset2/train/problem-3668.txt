But I have problem with Gstreamer to make conversion .ts to mkv (or .mp4) with audio. Important is that I have to have output video resized. 
Here is another example which working, this time with audio, but I can't resize video by changing omxh264enc parameters from example above:
You build your pipeline wrong. This is not what you wanted to archive. In particular you don't do anything with with the ac3 muxed audio. And the video is written to disk as H.264 elementary stream. Just because you named it .mkv doesn't mean it is a MKV file.
I'm using RPi2 with Raspbian. I'm trying to find best solution for transcoding .ts files from tvheadend. At the moment the best is using GStreamer because I can handle best performace. With GStreamer I can transcode 1 minute .ts FHD video file to .mkv 480x270 in 30 seconds which is in my opinion very good performance and I want to keep it.
gst-launch-1.0 -v filesrc location=1.ts ! tsdemux parse-private-sections=false name=demux ! queue ! ac3parse ! matroskamux name=stream streamable=true ! filesink location=1.mkv demux. ! queue ! h264parse ! omxh264dec ! omxh264enc target-bitrate=1572864 control-rate=variable ! video/x-h264,stream-format=byte-stream,profile=high,width=480,height=270,framerate=25/1 ! h264parse ! stream.
Better results are with first option because output file is smaller and conversion is about 10% faster. Also with this option overall CPU performance is little bigger compare to second option and equals about 25%  on RPi2.