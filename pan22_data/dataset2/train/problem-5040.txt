What is the best method for the limiting speed of internet access for hosts in our colocation. We have a full rack which will be connected to the internet at 200/200 Mbps. We have our colo equipment as well as various customer VPS and colocated equipment.
A couple of customers will have dedicated bandwidth. Of the 200/200 we have access to, one customer will be allocated 50/50Mbps 1:1 and another will be allocated 20/20Mbps 1:1. Of the remaining 130Mbps, 100/100 Mbps will be a minimum rate to our own equipment as demand requires, yet we would like to share the whole 130Mbps with a couple of low usage VPS's that we host for customers.
What is the best way of dealing with the remaining 130Mbps as mentioned, so we give our equipment & services a minimum committed rate, along with the ability to share this remaining bandwidth with customers / users that do not have a dedicated amount of bandwidth.
We haven't decided whether we will be using a layer3 switch or a router to perform this traffic management. We would like to use a layer 3 switch, but if it has to be done by a router / firewall that is fine.
For shared and/or over-subscribed BW, I find a traffic shaping scheme that divides the available BW among the users of that BW (with or without priority levels, as appropriate) works better than simple limiting, since 1 user gets (almost) all there is, gets their stuff, gets out of the way - while a rate limit for all users means the network is slow all the time, even if it's mostly idle - and users with large data to move are on there much longer. I do that in a router, but since a layer 3 switch IS a router, some may have that sort of thing built in.
For the customers with a dedicated 1:1 bandwidth allocation, what is the best way of limiting their bandwidth access without causing too many issues to their daily usage. They will be using this allocation for daily browsing, cloud app access, potentially voice etc.
For the dedicated chunks, simple rate limiting (which may even be available on a layer 2 switch - several of mine can do that) is typical - the customer can do, or not do, what they want to manage their use of their chunk to use it most effectively. If they are not themselves oversubscribing it, they may not need to do much.