I am working on similar project right now and I think that you have two problems. First is that you compute direction in a wrong way. Try changing signs before sin and cos. For example:
The problem I'm having is that even if I rotate my object, it keeps translating in the same direction (forward on the z-axis). The following two images should explain what I mean (the object of interest is the rotated one):
I am creating a graphical scene with OpenGL and SDL, and I'm running into a problem in regards to translating an object in its rotation direction.
I can't seem to figure out why exactly the object doesn't translate in the correct direction when I apply rotation to it, but it does when I don't apply rotation and instead use some other value in the calculation for the x and z values. I am uploading the model matrix normally to the vertex shader.
Additionally it has getters which return a pointer to each vec3, so that I can modify it when I request it (not too important for my issue, just giving you a background).
Each of the graphical objects in the scene has a Transform object, which contains the object position, rotation, and scale. The following code in the Transform calculate the model for the object:
I have tried another case, where I create some rotation values, but I don't actually rotate the object. What happens in this case is that even though when I press a or d the object doesn't actually appear to rotate, however it will translate in the correct direction when I press w or s. The following is the code change that I tried:
As you can see, even though I have rotated the object using a and d, when I press w or s to translate the object, it keeps translating in the same direction.