Give your cats their own keyboards in a comfortable and attractive location.  Try sprinkling a little catnip on them.
The water bottle is the best way I have found to keep my cat away from anything. Once they get misted a few times they learn what it is for. Now all I have to do is have one sitting near whatever it is I want them to stay away from. If they come near the keyboard when I am working, all I need to do is pick up the bottle and they get down off the desk immediately. It doesn't hurt them and it is a very inexpensive solution!
Conditioning your cat to keep away from your keyboard is the most practical fix for this problem. If you're leery of using water in close proximity to your computer equipment, you can construct a useful cat-training tool with just a few items from around your house:
Put the pop tabs in the can and tape the lid shut. If the cat is doing something it shouldn't, shake the can or toss it toward the cat. (If you do the latter, try not to hit it--but the can should be light enough that if you accidentally do, neither the cat nor your keyboard should be hurt.) Cats generally don't like the resulting clatter, and I've never had one that didn't stop the offending behavior after I started using the can.
Unplug your wired keyboard and use a wireless keyboard. Keep that on the bookshelf like a book when you aren't using it.
Build a shelf (U-shaped piece of wood) over the real keyboard and put a fake keyboard on top.  Then reach under the shelf to type.