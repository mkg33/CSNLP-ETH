The VFS layer in Linux allows files and directories to be "bind-mounted" to another location. The result indeed looks like a hardlink, but doesn't actually exist on disk â€“ bind mounts are in-memory just like regular mounts are.
This feature also means that a single filesystem can be mounted on several places at once. For example, the same /dev/sda1 could be mounted at /mnt/usbdrive and on /var/lib/lxd/mnt-usbdrive.
I have a broken lxd installation and want to completely delete it and start over, but there's a problem. /var/lib/lxd/devices/desktop contains a bunch of subdirs that are linked to directories elsewhere in the filesystem (even on different drives) such as
But now if I want to delete these directories, I have a problem, because I just want to remove those directories under lxd, not the actual directories they point to and not their contents. I tried using unlink, but it doesn't work on directories.
For example, if I delete a file from disk.thor.mnt-thor, it also gets deleted from /home/storage (both directories point to the same place). disk.usbdrive.mnt-usbdrive shows all contents of my usb drive mounted to /mnt/usbdrive. Both directories show its contents, and modifications in one are reflected in the other.