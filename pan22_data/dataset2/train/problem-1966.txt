I then have a Cloudwatch event with its trigger set up to Lambda. When testing the trigger on any other service, say EC2, the lambda is triggered correctly. When using IAM however it will always fail.
Here is the event pattern I'm using which seems to be the only thing that could be wrong at this point:
Currently I have a global Cloudtrail in N. Virginia which is logging all IAM events and I can see them very clearly.
So I found out what the issue was, the patterns that I was attempting to use did either not provide a small or large enough scope. Monitoring IAM in this way requires following this guide and when it tells you the event pattern to input as a Cloudwatch Event pattern you need to specify EXACTLY the event names that you require.
It's fairly long but demonstrates how thorough you need to be and that no globbing is supported, here is the pattern I ended up with:
So I'm having trouble setting up Cloudwatch events to trigger a Lambda function. In the current scenario I want to trigger a Lambda when anyone/thing changes anything in IAM.