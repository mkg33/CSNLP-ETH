All vicarages totally contained within a nation will have the nation's element. Vicarages partially contained in two or more nations will take one of their enclosing nations' elements at random.
No matter what method you go with though, one important thing to keep in mind is to store the results of the process in a new location. If you modify the map in place, the portions you have already processed will start to affect the algorithm and you'll end up with some strange patterns.
It uses a simple random number generator so that there's a 45% chance of the tile being grass, 30% chance of it being water, and a 25% chance of it being stone.
A relatively simple way of doing this would be to create a number of nuclei at random positions. Draw the Voronoi diagram of these points. Assign an element to each region of the result.
Noise is one good solution, as has already been mentioned. Another option is to take a second pass at the data to nudge it toward the layout you want. Gaussian Blur is one of many ways you could achieve this. Doing a pass with that should get you nice "round" blobs of each type.
Polygonal Map Generator would be a good read into creating map with different 'zones' which would give you a better formed maps as well. It's based on voronoi diagrams but I guess this would be a good start into it.
Is there anyway I can increase the tendency for grass/stone blocks to clump together to form land masses, and make water blocks form oceans (sort of like what could be seen in a game like Minecraft)?
I'm working on a tile map system, which insofar looks like this (green is grass, air is white, stone is grey, and blue is water):
This results in something rather ugly and mechanical looking. Muddy up the borders a bit and you'll be in decent shape.
If you are generating for a large map, you could do this on two levels. Create your initial Voronoi diagram using, say, 20 nuclei, and call each resulting region a nation. Create another diagram using 400 nuclei and call each resulting region a vicarage.