But in the "Synopsis" of man ssh, it shows that that all the options must come before "user@host", so try this:
I am trying to write a script to rsync a folder on my laptop to my NAS. The script runs fine when called from the commandline. I've tried setting up the script to run automatically with systemd. However, there is a problem with the ssh login. While it works fine when the script is run from the commandline, I get a permission denied error.
The log says that your private key is encrypted and the client can't use it before you will enter a passphrase. Either use unencrypted key or use again some dirty workaround using sshpass.
To run the script with systemd, I've put the file sync-photos-to-nas.service in ~/.config/systemd/user/:
Running the script from the commandline works fine. Unfortunately, running the script with systemd does not work. I've run the systemd service with systemctl --user start sync-photos-to-nas.service. Then, using journalctl --user-unit sync-photos-to-nas, I get: